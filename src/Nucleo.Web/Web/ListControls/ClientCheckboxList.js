Type.registerNamespace("Nucleo.Web.ListControls");Nucleo.Web.ListControls.ClientCheckboxList=function(a){Nucleo.Web.ListControls.ClientCheckboxList.initializeBase(this,[a]);this._checkboxes=null;this._checkboxClickHandler=null;this._newItemsClientState=null;this._removedItemsClientState=null;this._activeIndex=null;this._selectedIndex=null;this._currentCheckIndex=1};Nucleo.Web.ListControls.ClientCheckboxList.prototype={get_activeIndex:function(){return this._activeIndex},set_activeIndex:function(a){if(this._activeIndex!=a){this._activeIndex=a;this.raisePropertyChanged("activeIndex")}},get_checkboxes:function(){if(this._checkboxes==null){this._processCheckboxes()}return this._checkboxes},get_newItemsClientState:function(){return this._newItemsClientState},set_newItemsClientState:function(a){if(this._newItemsClientState!=a){this._newItemsClientState=a;this.raisePropertyChanged("newItemsClientState")}},get_removedItemsClientState:function(){return this._removedItemsClientState},set_removedItemsClientState:function(a){if(this._removedItemsClientState!=a){this._removedItemsClientState=a;this.raisePropertyChanged("removedItemsClientState")}},get_selectedIndex:function(){return this._selectedIndex},set_selectedIndex:function(a){if(this._selectedIndex!=a){this._selectedIndex=a;this.raisePropertyChanged("selectedIndex")}},add_allItemsSelected:function(a){this.get_events().addHandler("allItemsSelected",a)},remove_allItemsSelected:function(a){this.get_events().removeHandler("allItemsSelected",a)},_onAllItemsSelected:function(){var a=this.get_events().getHandler("allItemsSelected");if(a!=null){a(this,Sys.EventArgs.Empty)}},add_noItemsSelected:function(a){this.get_events().addHandler("noItemsSelected",a)},remove_noItemsSelected:function(a){this.get_events().removeHandler("noItemsSelected",a)},_onNoItemsSelected:function(){var a=this.get_events().getHandler("noItemsSelected");if(a!=null){a(this,Sys.EventArgs.Empty)}},add_itemSelected:function(a){this.get_events().addHandler("itemSelected",a)},remove_itemSelected:function(a){this.get_events().removeHandler("itemSelected",a)},_onitemSelected:function(){var a=this.get_events().getHandler("itemSelected");if(a!=null){a(this,Sys.EventArgs.Empty)}},add_itemToggled:function(a){this.get_events().addHandler("itemToggled",a)},remove_itemToggled:function(a){this.get_events().removeHandler("itemToggled",a)},_onitemToggled:function(){var a=this.get_events().getHandler("itemToggled");if(a!=null){a(this,Sys.EventArgs.Empty)}},initialize:function(){Nucleo.Web.ListControls.ClientCheckboxList.callBaseMethod(this,"initialize");this._processCheckboxes()},dispose:function(){for(var a=0;a<this.get_checkboxes().length;a++){$removeHandler(this.get_checkboxes()[a],"click",this._checkboxClickHandler)}this._checkboxClickHandler=null;Nucleo.Web.ListControls.ClientCheckboxList.callBaseMethod(this,"dispose")},addItem:function(c,d,f,e){var b=this.get_newItemsClientState();var a=c+"$"+d+"$"+f.toString()+"$"+e.toString();if(b.value!=null&&b.value.length>0){b.value+=";"}b.value+=a;this._createCheck(c,d,f,e)},clearAll:function(){for(var a=0;a<this.get_checkboxes().length;a++){var b=this.get_checkboxes()[a];b.checked=false}},_createCheck:function(b,c,e,d){if(this._currentCheckIndex==null){this._currentCheckIndex=1}var a=document.createElement("input");a.type="checkbox";a.checked=e;if(!d){a.disabled="disabled"}a.value=b;$addHandler(a,"click",this._checkboxClickHandler);if(this.get_element().tagName=="SPAN"){this.get_element().appendChild(a)}else{}this._currentCheckIndex+=1},_processCheckboxes:function(){this._checkboxClickHandler=Function.createDelegate(this,this.checkboxClickCallback);this._checkboxes=this.get_element().getElementsByTagName("input");for(var a=0;a<this.get_checkboxes().length;a++){$addHandler(this.get_checkboxes()[a],"click",this._checkboxClickHandler)}},removeItem:function(d){var c=this.get_removedItemsClientState();var b=d;if(c.value!=null&&c.value.length>0){c.value+=";"}c.value+=b;for(var a=0;a<this.get_element().length;a++){if(this.get_element().options[a].value==d){this.get_element().options[a]=null}}},selectAll:function(){for(var a=0;a<this.get_checkboxes().length;a++){var b=this.get_checkboxes()[a];b.checked=true}},checkboxClickCallback:function(g){var b=g.target;if(b==null){return}if(b.checked){this.raise_itemSelected()}var d=this.get_checkboxes().length;var c=0;var f=false;for(var e=0;e<this.get_checkboxes().length;e++){var a=this.get_checkboxes()[e];if(b==a){this.set_activeIndex(e)}if(a.checked){if(!f){this.set_selectedIndex(e);f=true}c++}}if(f==false){this.set_selectedIndex(-1)}if(c==0){this.raise_noItemsSelected()}else{if(c==d){this.raise_allItemsSelected()}}this.raise_itemToggled()}};Nucleo.Web.ListControls.ClientCheckboxList.descriptor={properties:[{name:"activeIndex",type:Number},{name:"selectedIndex",type:Number}],methods:[{name:"clearAll"},{name:"selectAll"}],events:[{name:"allItemsSelected"},{name:"noItemsSelected"},{name:"itemToggled"},{name:"itemSelected"}]};Nucleo.Web.ListControls.ClientCheckboxList.registerClass("Nucleo.Web.ListControls.ClientCheckboxList",Sys.UI.Control);if(typeof(Sys)!=="undefined"){Sys.Application.notifyScriptLoaded()};